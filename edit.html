<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="heading">
        <h1><i class="fas  fa-sticky-note"></i>Gaurav keep</h1>
    </div>

    <div class="=note">

<p>Gaurav</p>

        <div class="operation">
            <button class="edit"><i class="fas fs-edit"></i>></button>
            <button class="delete"><i class="fas fs-trash-alt"></i>></button>
        </div>

        <div class="main"></div>
        <textarea class=""></textarea>
    </div>

    <div class="btn-div">
        <button class="learn-more" class="add" id="add">
             <span class="circle" aria-hidden="true">
                <span class="icon arrow"></span>
             </span>
             <span class="button-text">Add note</span>
        </button>
        
    </div>
</body>
</html>
<script>
    const addButton = document.querySelector("#add");
    
    const updateLSData = () => {

        const textArea = document.querySelectorAll('textarea');
        const notes = [];

        textAreaData.forEach((note) =>{
                return notes.push(note.value);
                console.log(notes);
                
                localStorage.setItem('notes', JSON.strigify(notes));
        })
 
    }

    const addNewNote = (text = '') => {

        const note = document.createElement('div');
        note.classList.add('note');
        const htmlData =       `<div class="operation">
            <button class="edit"><i class="fas fa-edit"></i>></button>
            <button class="delete"><i class="fas fa-trash-alt"></i>></button>
        </div>

        <div class="main" ${text ? "" : "hidden"} "></div>
        <textarea class=" ${text ? "hidden" : "" } "></textarea>`;
        
        note.insertAdjacentHTML('afterbegin',htmlData);
        console.log(note);

                //getting the References
        const editButton = note.querySelector('edit');
        const delButton = note.querySelector('delButton');
        const maiDiv = note.querySelector('maiDiv');
        const textarea = note.querySelector('textarea');
        
        // deleting the  node
        delButton.addEventListener('click', () =>{
            note.remove();
        } ) 

        // toggle using edit button
            textarea.value = text;
            mainDiv.innerHTML = text;

        textArea.addEventListener('change',(event)=>{
                const value = event.target.value;
                console.log(value);
                mianDiv.innerHTML = text;
        })

        editButton.addEventListener('click', () => {
             mainDiv.classList.toogle('hidden');
             textarea.classList.toggle('hidden');

             updateLSDAta();
        })
        
        // it appends a notde as tthe last child of a node
        documentlk.body.appendChild(note);
    }

    // getting data back from localStorage
    const notes = JSON.parse();

    addButton.addEventListener('click', () => addNewNote() );
</script>